<!-- breadcrumb -->
<div class="container">
  <div class="bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg">
    <a href="index.html" class="stext-109 cl8 hov-cl1 trans-04">
      Home
      <i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
    </a>

    <span class="stext-109 cl4"> Shopping Cart </span>
  </div>
</div>

<!-- Shopping Cart -->
<div class="bg0 p-t-75 p-b-85">
  <div class="container">
    <div class="row">
      <div class="col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50">
        <div
          class="bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm"
        >
          <h4 class="mtext-109 cl2">Hello Mishab</h4>
          <div class="flex-w flex-t bor12 p-b-13"></div>

          <div class="flex-w flex-t bor12 p-t-15 p-b-30">
            <!-- Profile -->
            <a
              href="/account-details"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-user"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Profile Information</span>
              </div>
            </a>

            <!-- Super Coin -->
            <a
              href="/super-coin"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-coins"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Super Coin</span>
              </div>
            </a>

            <!-- Orders -->
            <a
              href="/orders"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-truck"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Orders</span>
              </div>
            </a>

            <!-- Wish List -->
            <a
              href="/wish-list"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-heart"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Wish List</span>
              </div>
            </a>

            <!-- Coupons -->
            <a
              href="/coupons"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-ticket"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Coupons</span>
              </div>
            </a>
            <a
              href="/address"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-address-card"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Address</span>
              </div>
            </a>

            <!-- Notifications -->
            <a
              href="/notifications"
              class="flex-w flex-t p-t-27 p-b-33 w-full items-center link-row"
            >
              <div class="icon-box">
                <i class="fa-solid fa-bell"></i>
              </div>
              <div class="text-box">
                <span class="mtext-110 cl2">Notifications</span>
              </div>
            </a>
          </div>

          <button
            class="small-btn flex-c-m stext-101 cl0 bg3 bor14 trans-04 pointer"
          >
            Logout
          </button>
        </div>
      </div>
      <div class="col-lg-10 col-xl-7 m-lr-auto m-b-50">
        <!-- Hero Section -->
        <section class="hero">
          <div class="container">
            <div class="hero-content">
              <div class="coupon-search-container">
                <div class="search-input-wrapper">
                  <input
                    type="text"
                    class="coupon-search-input"
                    placeholder="Search for coupons, brands, or categories..."
                    id="searchInput"
                  />
                </div>
                <button class="filter-btn" onclick="handleFilter()">
                  <svg
                    class="search-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </section>
        <section class="coupons-section">
          <div class="container">
            <div class="coupons-header">
              <h2 class="coupons-title" id="sectionTitle">Featured Deals</h2>
              <span class="coupons-count" id="couponCount"
                >6 coupons found</span
              >
            </div>

            <div class="coupons-grid" id="couponsGrid">
              <!-- Coupons will be dynamically inserted here -->
            </div>

            <!-- No Results -->
            <div class="no-results" id="noResults" style="display: none">
              <div class="emoji">üîç</div>
              <h3>No coupons found</h3>
              <p>Try adjusting your search or category filter</p>
            </div>
          </div>
        </section>

        <!-- Toast Notification -->
        <div class="toast" id="toast">
          <div class="toast-title" id="toastTitle">Code Copied!</div>
          <div class="toast-description" id="toastDescription">
            Coupon code has been copied to your clipboard.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- </div> -->

<script>
  document.querySelectorAll(".link-row").forEach((link) => {
    if (link.getAttribute("href") === window.location.pathname) {
      link.style.color = "#717fe0";
      const icon = link.querySelector("i");
      if (icon) {
        icon.style.color = "#717fe0";
      }
    }
  });
  // Sample coupon data
  const coupons = [
    {
      id: "1",
      brand: "TechStore",
      logo: "üíª",
      title: "Summer Electronics Sale",
      description:
        "Get amazing discounts on laptops, smartphones, tablets and more. Perfect time to upgrade your tech setup!",
      discount: "25% OFF",
      code: "TECH25",
      category: "Electronics",
      expiresAt: "Dec 31, 2024",
      isExpiring: false,
    },
    {
      id: "2",
      brand: "FashionHub",
      logo: "üëó",
      title: "Winter Fashion Collection",
      description:
        "Discover the latest fashion trends with exclusive discounts on clothing, shoes, and accessories.",
      discount: "40% OFF",
      code: "FASHION40",
      category: "Fashion",
      expiresAt: "Nov 30, 2024",
      isExpiring: true,
    },
    {
      id: "3",
      brand: "HomeDecor",
      logo: "üè†",
      title: "Home Makeover Deals",
      description:
        "Transform your living space with our premium furniture and home decor items at unbeatable prices.",
      discount: "30% OFF",
      code: "HOME30",
      category: "Home & Garden",
      expiresAt: "Jan 15, 2025",
      isExpiring: false,
    },
    {
      id: "4",
      brand: "TechStore",
      logo: "üéÆ",
      title: "Gaming Gear Special",
      description:
        "Level up your gaming experience with discounts on gaming laptops, monitors, and accessories.",
      discount: "20% OFF",
      code: "GAME20",
      category: "Electronics",
      expiresAt: "Dec 15, 2024",
      isExpiring: false,
    },
    {
      id: "5",
      brand: "FashionHub",
      logo: "‚ú®",
      title: "Weekend Flash Sale",
      description:
        "Limited time offer on premium designer clothing and luxury accessories. Don't miss out!",
      discount: "50% OFF",
      code: "FLASH50",
      category: "Fashion",
      expiresAt: "Nov 25, 2024",
      isExpiring: true,
    },
    {
      id: "6",
      brand: "HomeDecor",
      logo: "üç¥",
      title: "Kitchen Essentials",
      description:
        "Upgrade your kitchen with modern appliances and elegant kitchenware at discounted prices.",
      discount: "35% OFF",
      code: "KITCHEN35",
      category: "Home & Garden",
      expiresAt: "Dec 20, 2024",
      isExpiring: false,
    },
  ];

  let currentFilter = "All";
  let currentSearch = "";

  // DOM Elements
  const searchInput = document.getElementById("searchInput");
  const couponsGrid = document.getElementById("couponsGrid");
  const noResults = document.getElementById("noResults");
  const sectionTitle = document.getElementById("sectionTitle");
  const couponCount = document.getElementById("couponCount");
  const toast = document.getElementById("toast");

  // Initialize
  document.addEventListener("DOMContentLoaded", function () {
    renderCoupons();

    // Add search functionality
    searchInput.addEventListener("input", function (e) {
      currentSearch = e.target.value;
      renderCoupons();
    });
  });

  // Filter by category
  function filterCategory(category) {
    currentFilter = category;

    // Update active button
    document.querySelectorAll(".category-btn").forEach((btn) => {
      btn.classList.remove("active");
    });
    event.target.classList.add("active");
    renderCoupons();
  }

  // Handle filter button click
  function handleFilter() {
    showToast("Filter Options", "Advanced filters coming soon!");
  }

  // Copy coupon code
  function copyCouponCode(code) {
    navigator.clipboard
      .writeText(code)
      .then(() => {
        showToast(
          "Code Copied!",
          `Coupon code ${code} has been copied to your clipboard.`
        );
      })
      .catch(() => {
        // Fallback for older browsers
        const textArea = document.createElement("textarea");
        textArea.value = code;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand("copy");
        document.body.removeChild(textArea);
        showToast(
          "Code Copied!",
          `Coupon code ${code} has been copied to your clipboard.`
        );
      });
  }

  // Show toast notification
  function showToast(title, description) {
    document.getElementById("toastTitle").textContent = title;
    document.getElementById("toastDescription").textContent = description;

    toast.classList.add("show");

    setTimeout(() => {
      toast.classList.remove("show");
    }, 3000);
  }

  // Handle newsletter subscription
  function handleNewsletter(event) {
    event.preventDefault();
    const email = event.target.querySelector("input").value;
    showToast("Subscribed!", `Thank you for subscribing with ${email}!`);
    event.target.reset();
  }
  
  // Filter and render coupons
  function renderCoupons() {
    const filteredCoupons = coupons.filter((coupon) => {
      const matchesSearch =
        coupon.brand.toLowerCase().includes(currentSearch.toLowerCase()) ||
        coupon.title.toLowerCase().includes(currentSearch.toLowerCase()) ||
        coupon.description.toLowerCase().includes(currentSearch.toLowerCase());
      const matchesCategory =
        currentFilter === "All" || coupon.category === currentFilter;
      return matchesSearch && matchesCategory;
    });

    // Update title and count
    sectionTitle.textContent =
      currentFilter === "All" ? "Featured Deals" : `${currentFilter} Deals`;
    couponCount.textContent = `${filteredCoupons.length} coupon${
      filteredCoupons.length !== 1 ? "s" : ""
    } found`;

    if (filteredCoupons.length === 0) {
      couponsGrid.style.display = "none";
      noResults.style.display = "block";
    } else {
      couponsGrid.style.display = "grid";
      noResults.style.display = "none";

      couponsGrid.innerHTML = filteredCoupons
        .map(
          (coupon) => `
                    <div class="coupon-card ${
                      coupon.isExpiring ? "expiring" : ""
                    }">
                        <div class="discount-badge">${coupon.discount}</div>
                        
                        <div class="brand-header">
                            <div class="brand-logo">
                                <div style="font-size: 2rem;">${
                                  coupon.logo
                                }</div>
                            </div>
                            <div class="brand-info">
                                <h3>${coupon.brand}</h3>
                                <span class="category-badge">${
                                  coupon.category
                                }</span>
                            </div>
                        </div>

                        <div class="coupon-content">
                            <h4 class="coupon-title">${coupon.title}</h4>
                            <p class="coupon-description">${
                              coupon.description
                            }</p>
                        </div>

                        <div class="expiry-info">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12,6 12,12 16,14"></polyline>
                            </svg>
                            <span>Expires: ${coupon.expiresAt}</span>
                        </div>

                        <div class="action-section">
                            <div class="code-container">
                                <span class="code-label">Coupon Code</span>
                                <span class="code-value">${coupon.code}</span>
                            </div>
                            <button class="copy-btn" onclick="copyCouponCode('${
                              coupon.code
                            }')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                Copy
                            </button>
                        </div>
                    </div>
                `
        )
        .join("");
    }
  }
</script>
